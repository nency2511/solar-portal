<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solar Portal ‚Äì Admin Dashboard</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<style>
/* =========================
   ‚úÖ ADMIN RESPONSIVE OVERRIDES (ONLY ADMIN PAGE)
   Paste in admin.html AFTER styles.css
========================= */

body[data-page="admin"] .sidebar .navText{ font-weight:900; }

/* top header compact */
body[data-page="admin"] .adminTop{
  padding: 10px 12px !important;
  border-radius: 12px;
}
body[data-page="admin"] .adminTitle{
  margin:0 !important;
  font-size: 16px !important;
  line-height: 1.1;
  font-weight: 900;
}
body[data-page="admin"] .adminSub{
  margin-top: 2px;
  font-size: 11px;
  opacity: .85;
  font-weight: 700;
}
body[data-page="admin"] .adminLogoutBtn{
  height: 34px !important;
  padding: 0 10px !important;
  border-radius: 10px !important;
  font-size: 12px !important;
}

/* panel headings + toggle buttons smaller */
body[data-page="admin"] .panelHead h1{
  font-size: 16px !important;
  margin:0 !important;
}
body[data-page="admin"] .viewToggle{
  padding: 4px !important;
  gap: 6px !important;
  border-radius: 12px !important;
}
body[data-page="admin"] .viewBtn{
  padding: 6px 10px !important;
  font-size: 12px !important;
  border-radius: 10px !important;
}

/* make Monthly/Yearly tabs small */
body[data-page="admin"] .summaryTabs{
  gap: 8px !important;
  padding: 8px !important;
}
body[data-page="admin"] .sumTabBtn{
  height: 36px !important;
  padding: 0 10px !important;
  font-size: 12px !important;
  border-radius: 10px !important;
}

/* Last 15 days date filter compact */
body[data-page="admin"] #last10FromAdmin,
body[data-page="admin"] #last10ToAdmin{
  height: 34px !important;
  font-size: 12px !important;
  padding: 0 8px !important;
  border-radius: 10px !important;
}

/* ‚úÖ TABLE: always allow horizontal scroll on admin */
body[data-page="admin"] .tableWrap{
  overflow-x: auto !important;
  overflow-y: hidden !important;
  -webkit-overflow-scrolling: touch;
  border-radius: 12px;
}

/* table should be content-width so it scrolls */
body[data-page="admin"] .tableWrap .tbl{
  width: max-content !important;
  min-width: 560px !important;      /* base */
  table-layout: auto !important;
}

/* headers/cells: compact + no cut */
body[data-page="admin"] .tbl th,
body[data-page="admin"] .tbl td{
  white-space: nowrap !important;
  padding: 8px 8px !important;
  font-size: 12px !important;
}

/* keep header sticky */
body[data-page="admin"] .tbl th{
  position: sticky;
  top: 0;
  z-index: 2;
}

/* ‚úÖ BIG tables: maintenance needs more width */
body[data-page="admin"] #sec-amnt .tableWrap .tbl{
  min-width: 1100px !important;
}

/* ‚úÖ Photos grid responsive (already ok, just tighten) */
body[data-page="admin"] .photoGrid{
  gap: 10px !important;
}

/* =========================
   ‚úÖ MOBILE MODE (<=980px)
   Sidebar becomes top row tabs
========================= */
@media (max-width: 980px){
  body[data-page="admin"] .layout{
    grid-template-columns: 1fr !important;
  }

  /* sidebar becomes sticky top */
  body[data-page="admin"] .sidebar{
    position: sticky;
    top: 0;
    z-index: 20;
    padding: 10px 10px 8px;
  }

  /* brand smaller */
  body[data-page="admin"] .sideBrand{
    padding: 10px 10px !important;
    gap: 10px !important;
  }
  body[data-page="admin"] .sideLogo{
    width: 36px !important;
    height: 36px !important;
  }
  body[data-page="admin"] .sideTitle{ font-size: 14px !important; }
  body[data-page="admin"] .sideSub{ font-size: 11px !important; }

  /* nav buttons in one row */
  body[data-page="admin"] .sideNav{
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 8px !important;
    padding: 8px 0 0 !important;
  }
  body[data-page="admin"] .navBtn{
    height: 40px !important;
    padding: 0 8px !important;
    justify-content: center !important;
    gap: 6px !important;
    border-radius: 12px !important;
    font-size: 12px !important;
  }
  body[data-page="admin"] .navIcon{ width: auto !important; }

  /* main padding tighter */
  body[data-page="admin"] .main{ padding: 10px !important; }

  /* card padding tighter */
  body[data-page="admin"] .card{ padding: 10px !important; }

  /* Summary layout becomes single column */
  body[data-page="admin"] .summaryLayout{
    grid-template-columns: 1fr !important;
  }
  body[data-page="admin"] .summaryTabs{
    flex-direction: row !important;
    justify-content: space-between;
  }
  body[data-page="admin"] .sumTabBtn{
    flex: 1;
    text-align: center !important;
  }
}

/* =========================
   ‚úÖ SMALL MOBILE (<=520px)
========================= */
@media (max-width: 520px){
  body[data-page="admin"] .adminTitle{ font-size: 15px !important; }
  body[data-page="admin"] .adminLogoutBtn{ height: 32px !important; }

  body[data-page="admin"] .panelHead{
    gap: 8px !important;
    padding: 6px 0 10px !important;
  }

  /* tables even tighter */
  body[data-page="admin"] .tbl th,
  body[data-page="admin"] .tbl td{
    font-size: 11px !important;
    padding: 7px 7px !important;
  }
}
</style>

<body data-page="admin">
  <div class="bg-orb orb1"></div>
  <div class="bg-orb orb2"></div>
  <div class="bg-orb orb3"></div>

  <div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
     <div class="sideBrand">
  <img src="https://www.friendssteel.com/wp-content/uploads/2020/04/logo.png" alt="Solar Logo" class="sideLogo" />
  <div>
    <div class="sideTitle">Solar Portal</div>
    <div class="sideSub">Admin Panel</div>
  </div>
</div>


      <nav class="sideNav">
       <button class="navBtn active" data-section="agen">
  <span class="navIcon">üìä</span>
  <span class="navText">Gen</span>
</button>

<button class="navBtn" data-section="amnt">
  <span class="navIcon">üßæ</span>
  <span class="navText">Mnt</span>
</button>

<button class="navBtn" data-section="apho">
  <span class="navIcon">üñºÔ∏è</span>
  <span class="navText">Photos</span>
</button>

      </nav>

      
    </aside>

    <!-- MAIN -->
    <main class="main">
     <header class="dashTop adminTop">
  <div class="dashTitle adminTopLeft">
    <h1 class="adminTitle">Admin</h1>
    <div class="adminSub">Gen Summary</div>
  </div>

  <div class="topActions adminTopRight">
    <button class="btnGhost adminLogoutBtn" id="adminLogout">Logout</button>
  </div>
</header>


      <section class="content">

        <!-- =========================
             ADMIN: DAILY UNITS
        ========================== -->
        <div class="panel show" id="sec-agen">
          <div class="panelHead">
            <div>
              <h1>Generation Data ‚Äì Summary</h1>
              <!-- <p>Daily / Monthly / Yearly summary + Table/Graph + Download.</p> -->
            </div>

            <div class="viewToggle">
              <button class="viewBtn active" id="sumViewTableBtn" type="button">Table</button>
              <button class="viewBtn" id="sumViewGraphBtn" type="button">Graph</button>
              <!-- <button class="btnGhost smallBtn hidden" id="downloadChartBtn" type="button">Download</button> -->
            </div>
          </div>

          <!-- ‚úÖ Period Totals -->
          <div class="card">
            <div class="cardHead">
              <h3>Today / Month / Year Totals</h3>
              <!-- <div class="muted small">Auto from all users</div> -->
            </div>

            <div class="tableWrap">
              <table class="tbl tbl--md">
                <thead>
                  <tr>
                    <th>Period</th>
                    <th class="right">Aashiana</th>
                    <th class="right">Darpan</th>
                    <th class="right">Total</th>
                  </tr>
                </thead>
                <tbody id="adminPeriodTotalsBody"></tbody>
              </table>
            </div>
          </div>

          <!-- ‚úÖ Summary layout: Vertical tabs + content -->
          <div class="card">
            <div class="summaryLayout">
              <!-- LEFT: Vertical tabs (‚úÖ Daily removed) -->
              <div class="summaryTabs">
                <button class="sumTabBtn active" data-sumtab="monthly">Monthly</button>
                <button class="sumTabBtn" data-sumtab="yearly">Yearly</button>
              </div>

              <!-- RIGHT: Content -->
              <div class="summaryBody">

                <!-- MONTHLY (‚úÖ Month | Total Units) -->
                <div class="sumTabPanel show" id="sumtab-monthly">
                  <div class="cardHead tightHead">
                    <h3>Monthly Summary (Current Year)</h3>
                    <!-- <div class="muted small">Auto builds from Jan ‚Üí current month</div> -->
                  </div>

                  <div id="sumMonthlyTableWrap">
                    <div class="tableWrap tableWrap--fit">
                      <table class="tbl tbl--compact">
                      <thead>
  <tr>
    <th>Month</th>
    <th class="right">Aashiana</th>
    <th class="right">Darpan</th>
    <th class="right">Total</th>
  </tr>
</thead>

                        <tbody id="adminMonthlyBody"></tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- YEARLY -->
                <div class="sumTabPanel" id="sumtab-yearly">
                  <div class="cardHead tightHead">
                    <h3>Yearly Summary</h3>
                    <!-- <div class="muted small">Year-wise totals (Ashiana / Darpan / Total)</div> -->
                  </div>

                  <div id="sumYearlyTableWrap">
                    <div class="tableWrap">
                      <table class="tbl tbl--md">
                        <thead>
                          <tr>
                            <th>Year</th>
                            <th class="right">Aashiana</th>
                            <th class="right">Darpan</th>
                            <th class="right">Total</th>
                          </tr>
                        </thead>
                        <tbody id="adminYearlyBody"></tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- GRAPH (shared canvas for Monthly/Yearly) -->
                <div class="hidden" id="sumGraphWrap">
                  <div style="height:360px;">
                    <canvas id="summaryChart"></canvas>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!-- ‚úÖ LAST 10 DAYS -->
         <div class="card">
  <div class="panelHead" style="padding:0 0 12px;">
    <div>
      <h1 style="margin:0;font-size:20px;">Last 15 Days</h1>

      <!-- ‚úÖ NEW: date range (auto apply) -->
      <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
        <div style="display:flex; align-items:center; gap:8px;">
          <span class="muted" style="font-size:12px;">From</span>
          <input type="date" id="last10FromAdmin" class="inp inp--sm" />
        </div>

        <div style="display:flex; align-items:center; gap:8px;">
          <span class="muted" style="font-size:12px;">To</span>
          <input type="date" id="last10ToAdmin" class="inp inp--sm" disabled />
        </div>
      </div>
    </div>

    <div class="viewToggle">
      <button class="viewBtn active" id="last10TableBtn" type="button">Table</button>
      <button class="viewBtn" id="last10GraphBtn" type="button">Graph</button>
    </div>
  </div>

  <div id="last10TableWrap">
    <div class="tableWrap">
      <table class="tbl tbl--md">
        <thead>
          <tr>
            <th>Date</th>
            <th class="right">Darpan</th>
            <th class="right">Aashiana</th>
            <th class="right">Total</th>
          </tr>
        </thead>
        <tbody id="adminLast10Body"></tbody>
      </table>
    </div>
  </div>

  <div class="hidden" id="last10GraphWrap" style="height:320px;">
    <canvas id="last10Chart"></canvas>
  </div>
</div>

        </div>

        <!-- =========================
             ADMIN: MAINTENANCE
        ========================== -->
        <div class="panel" id="sec-amnt">
          <div class="panelHead">
            <div>
              <h1>Maintenance Logs</h1>
              <!-- <p>Auto date filter + pagination.</p> -->
            </div>
            <!-- <div class="pill">Checklist üß∞</div> -->
          </div>

          <div class="card">
            <div class="cardHead">
              <!-- <h3>Filters</h3> -->
              <!-- <div class="muted small">Date-wise auto apply</div> -->
            </div>

            <div class="filters filtersMnt">
              <div class="field">
                <label>From Date</label>
                <input id="mntFromAdmin" type="date"/>
              </div>
              <div class="field">
                <label>To Date</label>
                <input id="mntToAdmin" type="date"/>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="cardHead">
              <h3>All Maintenance Entries</h3>
              <div class="muted small" id="adminMntCount">0 rows</div>
            </div>

            <div class="tableWrap">
              <table class="tbl tbl--lg" id="adminMntTable">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>User</th>
                    <th>Plant</th>
                    <th class="right">O&amp;M</th>
                    <th class="right">Security</th>
                    <th class="right">Cleaning hrs</th>
                    <th>Breakdown</th>
                    <th class="right">Breakdown hrs</th>
                    <th>Breakdown range</th>
                    <th>Breakdown remarks</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

            <div class="pager">
              <div class="pagerInfo muted small" id="mntPageInfo">Page 1 / 1 ‚Ä¢ 0 items</div>
              <div class="pagerBtns">
                <button class="btnGhost pagerBtn" id="mntPrevAdmin" type="button">Prev</button>
                <button class="btnGhost pagerBtn" id="mntNextAdmin" type="button">Next</button>
              </div>
            </div>
          </div>
        </div>

        <!-- =========================
             ADMIN: PHOTOS
        ========================== -->
        <div class="panel" id="sec-apho">
          <div class="panelHead">
            <div>
              <h1>Photographs</h1>
              <!-- <p>3 photos per page + date-wise filter.</p> -->
            </div>
            <!-- <div class="pill">Photolog üì∏</div> -->
          </div>

          <div class="card">
            <div class="cardHead">
              <!-- <h3>Filters</h3>
              <div class="muted small">Date-wise auto apply</div> -->
            </div>

            <div class="filters filtersPho">
              <div class="field">
                <label>From Date</label>
                <input id="phoFromAdmin" type="date"/>
              </div>
              <div class="field">
                <label>To Date</label>
                <input id="phoToAdmin" type="date"/>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="cardHead">
              <h3>All Photo Entries</h3>
              <div class="muted small" id="adminPhotoCount">0 items</div>
            </div>

            <div class="photoGrid" id="adminPhotoGrid"></div>

            <div class="pager">
              <div class="pagerInfo muted small" id="phoPageInfoAdmin">Page 1 / 1 ‚Ä¢ 0 items</div>
              <div class="pagerBtns">
                <button class="btnGhost pagerBtn" id="phoPrevAdmin" type="button">Prev</button>
                <button class="btnGhost pagerBtn" id="phoNextAdmin" type="button">Next</button>
              </div>
            </div>
          </div>
        </div>

      </section>
    </main>
  </div>

  <!-- Image Modal -->
  <div class="modal hidden" id="imgModal">
    <div class="modalBackdrop" data-close="1"></div>
    <div class="modalBox">
      <button class="modalClose" data-close="1">‚úï</button>
      <img id="modalImg" alt="Uploaded"/>
      <div class="modalMeta" id="modalMeta"></div>
    </div>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="app.js"></script>

  
</body>
</html>
